kind: pipeline
name: build

steps:

- name: build
  image: node:10-alpine
  group: build
  commands:
    - npm install
    - npm test

- name: sonarqube-analysis
  image: sonarsource/sonar-scanner-cli
  environment :
    SONAR_HOST_URL: "http://localhost:9000"
    SONAR_TOKEN: "sqa_47f3d9f8820cf3609ced282ad0e4b8bde5671a71"
  commands:
    - sonar-scanner